{% extends "base.html" %}

{% block title %}Apps - Nicholas Kosinski{% endblock %}

{% block content %}
<main>
    <h1 class="page-title">Apps</h1>
    <p class="page-subtitle">Custom apps that I've built.</p>

    <h2 class="projects-section-title odoo-logo-title"><img src="{{ url_for('static', filename='images/odoo-logo.png') }}" alt="Odoo" class="odoo-title-logo"></h2>
    <div class="odoo-apps-grid">
        {% for app in odoo_apps %}
        <div class="odoo-app-card" onclick="openAppModal('{{ app.name }}', '{{ app.desc }}')">
            <div class="odoo-app-icon">{{ app.icon | safe }}</div>
            <div class="odoo-app-name">{{ app.name }}</div>
            <div class="odoo-app-desc">{{ app.desc }}</div>
        </div>
        {% endfor %}
    </div>

    <div class="odoo-apps-cta">
        <p>Don't see what you need? <a href="mailto:nkosinski@ordinconsulting.com">Email nkosinski@ordinconsulting.com</a> to request a custom app.</p>
    </div>

    <h2 class="projects-section-title">Web Apps</h2>
    <div class="odoo-apps-grid">
        {% for app in web_apps %}
        <a href="{{ app.url }}" target="_blank" class="odoo-app-card" style="text-decoration:none;color:inherit;">
            <div class="odoo-app-name">{{ app.name }}</div>
            <div class="odoo-app-desc">{{ app.desc }}</div>
        </a>
        {% endfor %}
    </div>


    <div class="app-modal-overlay" id="appModal" onclick="closeAppModal(event)">
        <div class="app-modal">
            <button class="app-modal-close" onclick="closeAppModal(event, true)">&times;</button>
            <h3 class="app-modal-title" id="modalTitle"></h3>
            <p class="app-modal-desc" id="modalDesc"></p>
            <p class="app-modal-note">Interested? <a href="mailto:nkosinski@ordinconsulting.com">Email me</a> for details.</p>
        </div>
    </div>
</main>
{% endblock %}

{% block scripts %}
<script>
function openAppModal(name, desc) {
    document.getElementById('modalTitle').textContent = name;
    document.getElementById('modalDesc').textContent = desc;
    document.getElementById('appModal').classList.add('active');
}
function closeAppModal(e, force) {
    if (force || e.target === document.getElementById('appModal')) {
        document.getElementById('appModal').classList.remove('active');
    }
}
document.addEventListener('keydown', function(e) {
    if (e.key === 'Escape') {
        document.getElementById('appModal').classList.remove('active');
    }
});
</script>
{% endblock %}
